<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (17) on Fri Jul 01 18:54:29 CEST 2022 -->
<title>GameLobby</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-07-01">
<meta name="description" content="declaration: package: it.polimi.ingsw.server, class: GameLobby">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.server</a></div>
<h1 title="Class GameLobby" class="title">Class GameLobby</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.server.GameLobby</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">GameLobby</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">GameLobby is the part of the Server that ius responsible for handling a particular game. The GameLobby will instanciate
 the game controller and the game when the lobby become full of players.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private <a href="../model/Game.html" title="class in it.polimi.ingsw.model">Game</a></code></div>
<div class="col-second even-row-color"><code><a href="#game" class="member-name-link">game</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private <a href="../controller/GameController.html" title="class in it.polimi.ingsw.controller">GameController</a></code></div>
<div class="col-second odd-row-color"><code><a href="#gameController" class="member-name-link">gameController</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final int</code></div>
<div class="col-second even-row-color"><code><a href="#gameId" class="member-name-link">gameId</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#isExpertGame" class="member-name-link">isExpertGame</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final boolean</code></div>
<div class="col-second even-row-color"><code><a href="#isGameRestored" class="member-name-link">isGameRestored</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final int</code></div>
<div class="col-second odd-row-color"><code><a href="#numPlayers" class="member-name-link">numPlayers</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientConnection.html" title="interface in it.polimi.ingsw.server">ClientConnection</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#participants" class="member-name-link">participants</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="Server.html" title="class in it.polimi.ingsw.server">Server</a></code></div>
<div class="col-second odd-row-color"><code><a href="#server" class="member-name-link">server</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color"><code><a href="#setupLock" class="member-name-link">setupLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#started" class="member-name-link">started</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int,int,boolean,it.polimi.ingsw.server.Server,boolean)" class="member-name-link">GameLobby</a><wbr>(int&nbsp;gameId,
 int&nbsp;numPlayers,
 boolean&nbsp;isExpertGame,
 <a href="Server.html" title="class in it.polimi.ingsw.server">Server</a>&nbsp;server,
 boolean&nbsp;isGameRestored)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a new GameLobby that have the specified id, number of players and rules.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="RemoteView.html" title="class in it.polimi.ingsw.server">RemoteView</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#assignRemoteViews()" class="member-name-link">assignRemoteViews</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Assign the remote views to the clients after the lobby became full</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#broadcast(it.polimi.ingsw.messages.MessageFromServer)" class="member-name-link">broadcast</a><wbr>(<a href="../messages/MessageFromServer.html" title="class in it.polimi.ingsw.messages">MessageFromServer</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send in broadcast the specified message</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doEndGameOperations()" class="member-name-link">doEndGameOperations</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">End the game and informs the server that the game have finished</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientConnection.html" title="interface in it.polimi.ingsw.server">ClientConnection</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getClients()" class="member-name-link">getClients</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the participants of the game, each associated with the corresponding connection to the client</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../utils/Pair.html" title="class in it.polimi.ingsw.utils">Pair</a>&lt;<a href="../messages/simpleModel/SimpleField.html" title="class in it.polimi.ingsw.messages.simpleModel">SimpleField</a>,<wbr><a href="../messages/simpleModel/SimplePlayer.html" title="class in it.polimi.ingsw.messages.simpleModel">SimplePlayer</a>[]&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFieldInitializations()" class="member-name-link">getFieldInitializations</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the initializations of the game islands, clouds, characters and players schools.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGameParticipants()" class="member-name-link">getGameParticipants</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the names of the participants of the game</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNumPlayers()" class="member-name-link">getNumPlayers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of players of the game that the lobby represent</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="../messages/simpleModel/SimpleCharacter.html" title="class in it.polimi.ingsw.messages.simpleModel">SimpleCharacter</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSimpleCharacter(it.polimi.ingsw.model.CharacterCard)" class="member-name-link">getSimpleCharacter</a><wbr>(<a href="../model/CharacterCard.html" title="class in it.polimi.ingsw.model">CharacterCard</a>&nbsp;c)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get a simple character that represent the specified character card and that will be added to the initializations
 of the game</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertInLobby(java.lang.String,it.polimi.ingsw.server.ClientConnection)" class="member-name-link">insertInLobby</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="ClientConnection.html" title="interface in it.polimi.ingsw.server">ClientConnection</a>&nbsp;clientConnection)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Insert the specified client in the lobby.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isExpertGame()" class="member-name-link">isExpertGame</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the game is expert, otherwise false</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isGameRestored()" class="member-name-link">isGameRestored</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the game was restored, otherwise false</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isStarted()" class="member-name-link">isStarted</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the game is started, otherwise false.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#multicast(it.polimi.ingsw.messages.MessageFromServer,java.lang.String)" class="member-name-link">multicast</a><wbr>(<a href="../messages/MessageFromServer.html" title="class in it.polimi.ingsw.messages">MessageFromServer</a>&nbsp;message,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;except)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send in multicast the specified message to all clients, except the specified one</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#notifySetupChanges()" class="member-name-link">notifySetupChanges</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Notifies the thread that is doing the setupGame method that a player has made a setup choice</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onDisconnection(java.lang.String)" class="member-name-link">onDisconnection</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;clientDisconnected)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Informs the participants of the game that the specified player have disconnected</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onOtherPlayerDeleteChoice(java.lang.String)" class="member-name-link">onOtherPlayerDeleteChoice</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;clientName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Informs the participants of the restored game that a previous participant have decided to not resume the game and
 therefore the game have been deleted</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restoreGame()" class="member-name-link">restoreGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends all information in broadcast about the restored game state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendInitializations()" class="member-name-link">sendInitializations</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends all game initializations for games that have not been restored</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendRestoredSetup()" class="member-name-link">sendRestoredSetup</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends the setups that were previously made for games that are restored but were not started (this means that some
 other setup choices have to be made)</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSaveGame()" class="member-name-link">setSaveGame</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Asynchronously saves tha game on the disk</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setStarted(boolean)" class="member-name-link">setStarted</a><wbr>(boolean&nbsp;started)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupGame()" class="member-name-link">setupGame</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the setup phase of the game, the method will be executed by a separated thread a will continue looping until
 all setup are done.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupTowers(java.util.Map)" class="member-name-link">setupTowers</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../model/enumerations/TowerType.html" title="enum class in it.polimi.ingsw.model.enumerations">TowerType</a>&gt;&nbsp;playersWithTower)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends to a random player that has not already made a tower choice a message that notifies him that he has to
 choose a tower from the towers that are not already taken</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupWizards(java.util.Map)" class="member-name-link">setupWizards</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../model/enumerations/WizardType.html" title="enum class in it.polimi.ingsw.model.enumerations">WizardType</a>&gt;&nbsp;playersWithWizard)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends to a random player that has not already made a wizard choice a message that notifies him that he has to
 choose a wizard from the wizards that are not already taken</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="gameController">
<h3>gameController</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../controller/GameController.html" title="class in it.polimi.ingsw.controller">GameController</a></span>&nbsp;<span class="element-name">gameController</span></div>
</section>
</li>
<li>
<section class="detail" id="game">
<h3>game</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../model/Game.html" title="class in it.polimi.ingsw.model">Game</a></span>&nbsp;<span class="element-name">game</span></div>
</section>
</li>
<li>
<section class="detail" id="numPlayers">
<h3>numPlayers</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">numPlayers</span></div>
</section>
</li>
<li>
<section class="detail" id="participants">
<h3>participants</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientConnection.html" title="interface in it.polimi.ingsw.server">ClientConnection</a>&gt;</span>&nbsp;<span class="element-name">participants</span></div>
</section>
</li>
<li>
<section class="detail" id="started">
<h3>started</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">started</span></div>
</section>
</li>
<li>
<section class="detail" id="gameId">
<h3>gameId</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">gameId</span></div>
</section>
</li>
<li>
<section class="detail" id="isExpertGame">
<h3>isExpertGame</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isExpertGame</span></div>
</section>
</li>
<li>
<section class="detail" id="server">
<h3>server</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="Server.html" title="class in it.polimi.ingsw.server">Server</a></span>&nbsp;<span class="element-name">server</span></div>
</section>
</li>
<li>
<section class="detail" id="isGameRestored">
<h3>isGameRestored</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isGameRestored</span></div>
</section>
</li>
<li>
<section class="detail" id="setupLock">
<h3>setupLock</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">setupLock</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(int,int,boolean,it.polimi.ingsw.server.Server,boolean)">
<h3>GameLobby</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GameLobby</span><wbr><span class="parameters">(int&nbsp;gameId,
 int&nbsp;numPlayers,
 boolean&nbsp;isExpertGame,
 <a href="Server.html" title="class in it.polimi.ingsw.server">Server</a>&nbsp;server,
 boolean&nbsp;isGameRestored)</span></div>
<div class="block">Constructs a new GameLobby that have the specified id, number of players and rules. The GameLobby will be associated
 to the server. The lobby can represent a game that was previously saved and was then restored when the server
 return online.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>gameId</code> - the id of the game</dd>
<dd><code>numPlayers</code> - the number of players of the game</dd>
<dd><code>isExpertGame</code> - true if the game is expert, otherwise false</dd>
<dd><code>server</code> - the Server instance</dd>
<dd><code>isGameRestored</code> - true if the game is restored, otherwise false</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isGameRestored()">
<h3>isGameRestored</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isGameRestored</span>()</div>
<div class="block">Returns true if the game was restored, otherwise false</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the game was restored, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertInLobby(java.lang.String,it.polimi.ingsw.server.ClientConnection)">
<h3>insertInLobby</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertInLobby</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname,
 <a href="ClientConnection.html" title="interface in it.polimi.ingsw.server">ClientConnection</a>&nbsp;clientConnection)</span></div>
<div class="block">Insert the specified client in the lobby. If the lobby is full (with also the new client inserted), initializations
 are sent to all clients after all RemoteViews are created.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the nickname of the client</dd>
<dd><code>clientConnection</code> - the connection to the client</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restoreGame()">
<h3>restoreGame</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restoreGame</span>()</div>
<div class="block">Sends all information in broadcast about the restored game state. The message that will be sent will have
 GameRestoredData as the message name.</div>
</section>
</li>
<li>
<section class="detail" id="assignRemoteViews()">
<h3>assignRemoteViews</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="RemoteView.html" title="class in it.polimi.ingsw.server">RemoteView</a>&gt;</span>&nbsp;<span class="element-name">assignRemoteViews</span>()</div>
<div class="block">Assign the remote views to the clients after the lobby became full</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the remove views of all clients connected to the lobby</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isStarted()">
<h3>isStarted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isStarted</span>()</div>
<div class="block">Returns true if the game is started, otherwise false.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the game is started, otherwise false.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setStarted(boolean)">
<h3>setStarted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setStarted</span><wbr><span class="parameters">(boolean&nbsp;started)</span></div>
</section>
</li>
<li>
<section class="detail" id="broadcast(it.polimi.ingsw.messages.MessageFromServer)">
<h3>broadcast</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">broadcast</span><wbr><span class="parameters">(<a href="../messages/MessageFromServer.html" title="class in it.polimi.ingsw.messages">MessageFromServer</a>&nbsp;message)</span></div>
<div class="block">Send in broadcast the specified message</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message that will be sent</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="multicast(it.polimi.ingsw.messages.MessageFromServer,java.lang.String)">
<h3>multicast</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">multicast</span><wbr><span class="parameters">(<a href="../messages/MessageFromServer.html" title="class in it.polimi.ingsw.messages">MessageFromServer</a>&nbsp;message,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;except)</span></div>
<div class="block">Send in multicast the specified message to all clients, except the specified one</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message that will be sent</dd>
<dd><code>except</code> - the client that will not receive the message</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setupGame()">
<h3>setupGame</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setupGame</span>()</div>
<div class="block">Handles the setup phase of the game, the method will be executed by a separated thread a will continue looping until
 all setup are done. The thread will also wait until someone makes a new choice as a producer/consumer schema with
 the InitController of the game (that will receive the choices), where the InitController is the producer.</div>
</section>
</li>
<li>
<section class="detail" id="sendRestoredSetup()">
<h3>sendRestoredSetup</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendRestoredSetup</span>()</div>
<div class="block">Sends the setups that were previously made for games that are restored but were not started (this means that some
 other setup choices have to be made)</div>
</section>
</li>
<li>
<section class="detail" id="sendInitializations()">
<h3>sendInitializations</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendInitializations</span>()</div>
<div class="block">Sends all game initializations for games that have not been restored</div>
</section>
</li>
<li>
<section class="detail" id="notifySetupChanges()">
<h3>notifySetupChanges</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">notifySetupChanges</span>()</div>
<div class="block">Notifies the thread that is doing the setupGame method that a player has made a setup choice</div>
</section>
</li>
<li>
<section class="detail" id="setupTowers(java.util.Map)">
<h3>setupTowers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setupTowers</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../model/enumerations/TowerType.html" title="enum class in it.polimi.ingsw.model.enumerations">TowerType</a>&gt;&nbsp;playersWithTower)</span></div>
<div class="block">Sends to a random player that has not already made a tower choice a message that notifies him that he has to
 choose a tower from the towers that are not already taken</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>playersWithTower</code> - the players that have already made the tower choice, associated with the tower
                         choice that they have made</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setupWizards(java.util.Map)">
<h3>setupWizards</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setupWizards</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../model/enumerations/WizardType.html" title="enum class in it.polimi.ingsw.model.enumerations">WizardType</a>&gt;&nbsp;playersWithWizard)</span></div>
<div class="block">Sends to a random player that has not already made a wizard choice a message that notifies him that he has to
 choose a wizard from the wizards that are not already taken</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>playersWithWizard</code> - the players that have already made the wizard choice, associated with the wizard
                         choice that they have made</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFieldInitializations()">
<h3>getFieldInitializations</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../utils/Pair.html" title="class in it.polimi.ingsw.utils">Pair</a>&lt;<a href="../messages/simpleModel/SimpleField.html" title="class in it.polimi.ingsw.messages.simpleModel">SimpleField</a>,<wbr><a href="../messages/simpleModel/SimplePlayer.html" title="class in it.polimi.ingsw.messages.simpleModel">SimplePlayer</a>[]&gt;</span>&nbsp;<span class="element-name">getFieldInitializations</span>()</div>
<div class="block">Get the initializations of the game islands, clouds, characters and players schools. The islands and clouds are
 inserted in the simple field and the players schools are inserted in the array of simple players.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the initializations of the game islands, clouds, characters and players schools</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSimpleCharacter(it.polimi.ingsw.model.CharacterCard)">
<h3>getSimpleCharacter</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../messages/simpleModel/SimpleCharacter.html" title="class in it.polimi.ingsw.messages.simpleModel">SimpleCharacter</a></span>&nbsp;<span class="element-name">getSimpleCharacter</span><wbr><span class="parameters">(<a href="../model/CharacterCard.html" title="class in it.polimi.ingsw.model">CharacterCard</a>&nbsp;c)</span></div>
<div class="block">Get a simple character that represent the specified character card and that will be added to the initializations
 of the game</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>c</code> - the character card</dd>
<dt>Returns:</dt>
<dd>a simple character that represent the specified character card</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNumPlayers()">
<h3>getNumPlayers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getNumPlayers</span>()</div>
<div class="block">Returns the number of players of the game that the lobby represent</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of players of the game that the lobby represent</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doEndGameOperations()">
<h3>doEndGameOperations</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doEndGameOperations</span>()</div>
<div class="block">End the game and informs the server that the game have finished</div>
</section>
</li>
<li>
<section class="detail" id="getGameParticipants()">
<h3>getGameParticipants</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">getGameParticipants</span>()</div>
<div class="block">Returns the names of the participants of the game</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the names of the participants of the game</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getClients()">
<h3>getClients</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientConnection.html" title="interface in it.polimi.ingsw.server">ClientConnection</a>&gt;</span>&nbsp;<span class="element-name">getClients</span>()</div>
<div class="block">Returns the participants of the game, each associated with the corresponding connection to the client</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the participants of the game, each associated with the corresponding connection to the client</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onDisconnection(java.lang.String)">
<h3>onDisconnection</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onDisconnection</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;clientDisconnected)</span></div>
<div class="block">Informs the participants of the game that the specified player have disconnected</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clientDisconnected</code> - the player who has disconnected</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isExpertGame()">
<h3>isExpertGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isExpertGame</span>()</div>
<div class="block">Returns true if the game is expert, otherwise false</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the game is expert, otherwise false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSaveGame()">
<h3>setSaveGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSaveGame</span>()</div>
<div class="block">Asynchronously saves tha game on the disk</div>
</section>
</li>
<li>
<section class="detail" id="onOtherPlayerDeleteChoice(java.lang.String)">
<h3>onOtherPlayerDeleteChoice</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onOtherPlayerDeleteChoice</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;clientName)</span></div>
<div class="block">Informs the participants of the restored game that a previous participant have decided to not resume the game and
 therefore the game have been deleted</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clientName</code> - the name of the one who decided to delete the game</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
